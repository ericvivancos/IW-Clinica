{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nexport const isAuthenticated = () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) return false;\n  try {\n    const decodedToken = jwtDecode(token);\n    const currentTime = Date.now() / 1000; // Tiempo actual en segundos\n    return decodedToken.exp > currentTime; // Verifica si el token no ha expirado\n  } catch (error) {\n    console.error(\"Error al decodificar el token:\", error);\n    return false;\n  }\n};\nexport const logout = () => {\n  localStorage.removeItem(\"token\"); // Elimina el token\n  localStorage.removeItem(\"role\"); // Elimina el rol si lo estás almacenando\n};\nexport const getUserRole = () => {\n  return localStorage.getItem(\"role\");\n};","map":{"version":3,"names":["jwtDecode","isAuthenticated","token","localStorage","getItem","decodedToken","currentTime","Date","now","exp","error","console","logout","removeItem","getUserRole"],"sources":["D:/OneDrive - UNIVERSIDAD ALICANTE/UA/UA-Ingenieria_Web/Prácticas/Parte 2/Grupal/IW-Clinica/clinic-frontend/src/services/auth.js"],"sourcesContent":["import { jwtDecode } from \"jwt-decode\";\r\n\r\nexport const isAuthenticated = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) return false;\r\n\r\n    try {\r\n        const decodedToken = jwtDecode(token);\r\n        const currentTime = Date.now() / 1000; // Tiempo actual en segundos\r\n        return decodedToken.exp > currentTime; // Verifica si el token no ha expirado\r\n    } catch (error) {\r\n        console.error(\"Error al decodificar el token:\", error);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const logout = () => {\r\n    localStorage.removeItem(\"token\"); // Elimina el token\r\n    localStorage.removeItem(\"role\"); // Elimina el rol si lo estás almacenando\r\n};\r\n\r\nexport const getUserRole = () => {\r\n    return localStorage.getItem(\"role\");\r\n};\r\n\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,YAAY;AAEtC,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EACjC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,KAAK;EAExB,IAAI;IACA,MAAMG,YAAY,GAAGL,SAAS,CAACE,KAAK,CAAC;IACrC,MAAMI,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;IACvC,OAAOH,YAAY,CAACI,GAAG,GAAGH,WAAW,CAAC,CAAC;EAC3C,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD,OAAO,KAAK;EAChB;AACJ,CAAC;AAED,OAAO,MAAME,MAAM,GAAGA,CAAA,KAAM;EACxBT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;EAClCV,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;AACrC,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC7B,OAAOX,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;AACvC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}